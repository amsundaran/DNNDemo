(function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)}function Z(b){return"string"==typeof b}function Y(){}function X(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b}function W(){var b=O.shift();M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),W()):M=0}function V(w,v,t,s,q,p,n){function m(a){if(!g&&X(h.readyState)&&(x.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=w&&R(function(){I.removeChild(h)},50);for(var c in D[v]){D[v].hasOwnProperty(c)&&D[v][c].onload()}}}var n=n||L.errorTimeout,h=ac.createElement(w),g=0,b=0,x={t:t,s:v,e:q,a:p,x:n};1===D[v]&&(b=1,D[v]=[]),"object"==w?h.data=v:(h.src=v,h.type=w),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)},O.splice(s,0,x),"img"!=w&&(b||2===D[v]?(I.insertBefore(h,J?null:Q),R(m,n)):D[v].push(h))}function U(g,e,j,i,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,j,i,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var b=L;return b.loader={load:U,i:0},b}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d}},N,L;L=function(e){function c(i){var i=i.split("!"),h=E.length,q=i.pop(),p=i.length,q={url:q,origUrl:q,prefixes:i},o,l,j;for(l=0;l<p;l++){j=i[l].split("="),(o=C[j.shift()])&&(q=o(q,j))}for(l=0;l<h;l++){q=E[l](q)}return q}function n(b,s,r,q,p){var o=c(b),l=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(s&&(s=aa(s)?s:s[b]||s[q]||s[b.split("/").pop().split("?")[0]]),o.instead?o.instead(b,s,r,q,p):(D[o.url]?o.noexec=!0:D[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":ab,o.noexec,o.attrs,o.timeout),(aa(s)||aa(l))&&r.load(function(){T(),s&&s(o.origUrl,p,q),l&&l(o.origUrl,p,q),D[o.url]=2})))}function m(w,v){function u(b,h){if(b){if(Z(b)){h||(r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}),n(b,r,v,0,t)}else{if(Object(b)===b){for(g in o=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(r)?r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}:r[g]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),p()}}(q[g])),n(b[g],r,v,g,t))}}}}else{!h&&p()}}var t=!!w.test,s=w.load||w.both,r=w.callback||Y,q=r,p=w.complete||Y,o,g;u(t?w.yep:w.nope,!!s),s&&u(s)}var k,f,d=this.yepnope.loader;if(Z(e)){n(e,0,d,0)}else{if(F(e)){for(k=0;k<e.length;k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)}}else{Object(e)===e&&m(e,d)}}},L.addPrefix=function(d,c){C[d]=c},L.addFilter=function(b){E.push(b)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;g.src=r;for(b in p){g.setAttribute(b,p[b])}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)},R(function(){f||(f=1,q(1))},n),m?g.onload():Q.parentNode.insertBefore(g,Q)},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;l.href=b,l.rel="stylesheet",l.type="text/css";for(f in m){l.setAttribute(f,m[f])}k||(Q.parentNode.insertBefore(l,Q),R(n,0))}})(this,document);var dnnsf=dnnsf||{};for(var key in g_dnnsfState){dnnsf[key]=g_dnnsfState[key]}dnnsf.init=function(b,a){dnnsf.$=b;(function(c){if(b.isReady){c()}else{b(c)}})(function(){yepnope({test:b.support.opacity==false,yep:[a.appUrl+"/static/html5/html5shiv.js",a.appUrl+"/static/html5/respond.min.js"]})})};dnnsf.urlParam=function(a){var b=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);if(!b){return 0}return b[1]||0};dnnsf.urlParams={};(window.onpopstate=function(){var a,c=/\+/g,b=/([^&=]+)=?([^&]*)/g,e=function(f){return decodeURIComponent(f.replace(c," "))},d=window.location.search.substring(1);while(a=b.exec(d)){dnnsf.urlParams[e(a[1])]=e(a[2])}})();dnnsf.getUrlParts=function(c){var b=document.createElement("a");b.href=c;var d=b.pathname||"/";if(d[0]!="/"){d="/"+d}return{href:b.href,host:b.host,hostname:b.hostname,port:b.port,pathname:d,protocol:b.protocol,hash:b.hash,search:b.search,relativeUrl:d+b.search+b.hash}};dnnsf.scrollTo=function(a){if(isNaN(a)){return}if(window.top!=window){window.top.postMessage(JSON.stringify({type:dnnsf.urlParam("comm-prefix")+"-scroll",offset:a}),"*")}else{$("html, body").animate({scrollTop:a},500)}};dnnsf.log=function(){if(!this.isDebug||!window.console||!console.log){return}var a=Array.prototype.slice.call(arguments);a.push(new Date().getTime()-this.start);Function.apply.call(console.log,console,a)};dnnsf.adminApi=function(e,d,c){c=c||{};c.apiUrl=c.apiUrl||g_dnnsfState.adminApi;c.moduleId=c.moduleId||g_dnnsfState.moduleId;c.tabId=c.tabId||g_dnnsfState.tabId;var b=c.apiUrl+"?method="+e+"&alias="+dnnsf.alias+"&mid="+c.moduleId+"&tabid="+c.tabId;if(!d){return b}for(var a in d){if(d.hasOwnProperty(a)){b+="&"+a+"="+encodeURIComponent(d[a])}}return b};dnnsf.parseCssBlock=function(a){var b={};dnnsf.$.each(a.split(";"),function(d,c){var e=c.indexOf(":");if(e==-1){return}b[dnnsf.$.trim(c.substr(0,e))]=dnnsf.$.trim(c.substr(e+1))});return b};dnnsf.stackTrace=function(){};dnnsf.eval=function(obj){if(typeof(obj)!="string"){return obj}if(!isNaN(parseInt(obj))){return parseInt(obj)}if(!isNaN(parseFloat(obj))){return parseFloat(obj)}if(obj[0]=="["||obj[0]=="{"){return eval(obj)}if(obj=="false"){return false}if(obj=="true"){return true}return obj};dnnsf.toArray=function(a){if(!a){return[]}if(!$.isArray(a)){a=[a]}return a};dnnsf.tryParseBool=function(a){if(typeof(a)!=="string"){return a}if(a.toLowerCase()=="true"){return true}if(a.toLowerCase()=="false"){return false}return a};dnnsf.uniqueId=function(a,b){if(!b||b==-1){return a+new Date().getTime()+Math.floor(Math.random()*10000)}return a+b};dnnsf.randomString=function(d){var c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";var a="";for(var b=d;b>0;--b){a+=c[Math.round(Math.random()*(c.length-1))]}return a};dnnsf.initParameters=function(e,g,a){if(!e||!g){return}for(var c=0;c<e.Parameters.length;c++){var f=e.Parameters[c];if(a&&(f.Type=="Select"||f.Type=="FieldSelect")&&($.type(g.Parameters[f.Id])!="object"||!g.Parameters[f.Id].hasOwnProperty("Value"))){g.Parameters[f.Id]={Value:g.Parameters[f.Id],IsExpression:false,Expression:""}}if(f.Type=="ActionList"&&!g.Parameters[f.Id]){g.Parameters[f.Id]=[]}else{if(f.Type=="ActionList"&&g.Parameters[f.Id]){g.Parameters[f.Id]=$.grep(g.Parameters[f.Id],function(i){return !i.IsDeleted})}}if(typeof g.Parameters[f.Id]!="undefined"){continue}if(f.Id!="DataSource"){if(typeof g.Parameters[f.Id]!="undefined"){continue}g.Parameters[f.Id]=f.DefaultValue?g_localizeMaybeJson(f.DefaultValue):(f.Settings&&f.Settings.SupportsExpressions=="true"?{Expression:"",Value:"",IsExpression:false}:"")}else{if(typeof g.Parameters[f.Id]!="undefined"){if(!g.Parameters[f.Id].hasOwnProperty("SupportsExpressions")){if(g.Parameters[f.Id].hasOwnProperty("IsExpression")){g.Parameters[f.Id].SupportsExpressions=true}else{g.Parameters[f.Id]={SupportsExpressions:false,Expression:"",Value:g.Parameters[f.Id],IsExpression:false,Parameters:{}}}}continue}g.Parameters[f.Id]=f.DefaultValue?g_localizeMaybeJson(f.DefaultValue):({SupportsExpressions:f.Settings&&f.Settings.SupportsExpressions=="true",Expression:"",Value:"",IsExpression:false,Parameters:{}})}if(!g.Parameters[f.Id]&&!f.DefaultValue&&f.Settings&&f.Settings.Defaults){var h=f.Settings.Defaults;if(h&&(h[0]=="["||h[0]=="{")){var d=(h[0]!="[");h=$.parseJSON(h);if(!d){g.Parameters[f.Id]={};for(var b=0;h.length>b;++b){g.Parameters[f.Id][h[b]]=true}return}}g.Parameters[f.Id]=h}if(typeof(g.Parameters[f.Id])==="object"){$.each(g.Parameters[f.Id],function(i,j){g.Parameters[f.Id][i]=dnnsf.tryParseBool(j)})}else{g.Parameters[f.Id]=dnnsf.tryParseBool(g.Parameters[f.Id])}}};dnnsf.includeJs=function(d,c,e){var b=d.document.getElementsByTagName("head")[0];var a=d.document.createElement("script");a.type="text/javascript";a.src=c;a.onload=a.onreadystatechange=function(){if(e){e()}b.removeChild(a);a.onload=null};b.appendChild(a)};dnnsf.appendQueryToUrl=function(c,d){if(c[c.length-1]=="?"||c[c.length-1]=="&"){c=c.substr(0,c.length-1)}var b=c.indexOf("?")==-1?"?":"&";if("string"==typeof d){c+=b+d}else{for(var a in d){if(!d.hasOwnProperty(a)){continue}c+=b+encodeURIComponent(a)+"="+encodeURIComponent(d[a]);b="&"}}return c};dnnsf.getTimezoneOffset=function(){function c(e){var f=Math.abs(Math.floor(e));return(f<10?"0":"")+f}var b=new Date();var d=-b.getTimezoneOffset();var a=d>=0?"+":"-";return a+c(d/60)+":"+c(d%60)};if(typeof angular!="undefined"){var module=angular.module("dnnsf",[]).service("dnnsf",["$timeout",function(b){this.env=dnnsf;this.start=new Date().getTime();for(var a in dnnsf){this[a]=dnnsf[a]}}]);module.factory("myInterceptor",["$log","$q",function(c,b){var a={response:function(d){if(d.status==200&&d.data&&d.data.error){console.log("App HTTP error",d)}return d},responseError:function(d){if(d.status&&d.status!=404){console.log("HTTP error",d)}return b.reject(d)}};return a}]);module.config(["$httpProvider",function(a){a.interceptors.push("myInterceptor")}])};